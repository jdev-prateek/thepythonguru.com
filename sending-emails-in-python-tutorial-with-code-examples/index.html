<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Sending Emails in Python - Tutorial with Code Examples - ThePythonGuru.com</title>

    
    



    <meta name="description" content="What do you need to send an email with Python? Some basic programming and web knowledge along with the elementary Python skills. We assume you’ve alr…"/>



    <link rel="canonical" href="index.html">


<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Sending Emails in Python - Tutorial with Code Examples" />

    <meta property="og:description" content="What do you need to send an email with Python? Some basic programming and web knowledge along with the elementary Python skills. We assume you’ve alr…" />


<meta property="og:url" content="https://thepythonguru.com/sending-emails-in-python-tutorial-with-code-examples/" />
<meta property="og:site_name" content="thepythonguru.com" />


<meta property="article:publisher" content="https://www.facebook.com/thepythonguru" />



<meta name="twitter:card" content="summary_large_image" />

    <meta name="twitter:description" content="What do you need to send an email with Python? Some basic programming and web knowledge along with the elementary Python skills. We assume you’ve alr…" />


<meta name="twitter:title" content="Sending Emails in Python - Tutorial with Code Examples" />
<meta name="twitter:site" content="@thepythonguru" />

<meta name="twitter:creator" content="@thepythonguru" />




    
    
    


    
    
    


    <link rel="alternate" type="application/rss+xml" title="RSS" href="../feed.xml/index.html">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="../static/wiki/favicon.png" sizes="32x32" />

    <link rel="stylesheet" href="../static/CACHE/css/output.6be9976864ee.css" type="text/css" />

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-39121661-7"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-39121661-7');
    </script>


</head>
<body>

<!-- Navigation -->
<nav class="navbar navbar-default navbar-inverse" >
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../index.html">ThePythonGuru</a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse " id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                

                <li >
                    <a href="../index.html">Start Here</a>
                </li>
                <li >
                    <a href="../blog/index.html">Blog</a>
                </li>
                
                
                
                <li >
                    <a href="../contact-us/index.html">Contact</a>
                </li>
                <li >
                    <a href="../write-for-us/index.html">Write For Us</a>
                </li>
                <li class="dropdown">
                    <a href="index.html#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                       aria-haspopup="true" aria-expanded="false">Tools <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="../tools/pygments-demo/index.html">Pygments Demo</a></li>
                    </ul>
                </li>




                
                
                
                
                
                
                
                
                
            </ul>

            
            
            
            
            
            
            
            

        </div>



        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

<div class="container">

    

    

    <div class="row">

        
        <div class="main">
            <div  class="col-lg-8 col-md-8 col-sm-12">
                

    


    
        

<ol class="breadcrumb">

    <li><a href="../index.html">Home</a></li>

    
        

        
            <li><a href="../blog/index.html">Blog</a></li>
        

        
            <li class="active">Sending Emails in Python - Tutorial with Code Examples</li>
        
    

</ol>


    



<p class="advert">
    (Sponsors) Get started learning Python with <a rel="sponsored noopener" target="_blank" href="https://www.datacamp.com/?utm_source=thepythonguru&utm_campaign=thepythonguru_tutorials">DataCamp's</a>
    free <a rel="sponsored noopener" target="_blank" href="https://www.datacamp.com/courses/intro-to-python-for-data-science/?utm_source=thepythonguru&utm_campaign=thepythonguru_tutorials">Intro to Python tutorial</a>.

    Learn Data Science by completing interactive coding challenges and watching videos by expert instructors.
    <a rel="sponsored noopener" target="_blank" href="https://www.datacamp.com/courses/intro-to-python-for-data-science/?utm_source=thepythonguru&utm_campaign=thepythonguru_tutorials">Start Now!</a>
</p>
<hr>

<h1>Sending Emails in Python - Tutorial with Code Examples</h1>




    <p><i class="fa fa-clock-o" aria-hidden="true"></i>
        Updated on Jan 07, 2020
    </p>


<hr>



<p>What do you need to send an email with Python? Some basic programming and web knowledge along with the elementary Python skills. We assume you’ve already had a web app built with this language and now you need to extend its functionality with notifications or other emails sending. This tutorial will guide you through the most essential steps of sending emails via an SMTP server:</p>
<ol>
<li>Configuring a server for testing (do you know why it’s important?)

<ol>
<li>Local SMTP server</li>
<li>Mailtrap test SMTP server</li>
</ol></li>
<li>Different types of emails: HTML, with images, and attachments</li>
<li>Sending multiple personalized emails (Python is just invaluable for email automation)</li>
<li>Some popular email sending options like Gmail and transactional email services</li>
</ol>
<p>Served with numerous code examples!</p>
        <div class="admonition note">        <p class="admonition-title"><strong><i class="fa fa-info-circle" aria-hidden="true"></i> note:        </strong></p><p>Written and tested on Python 3.7.2.</p></div>
        <span id="sending-an-email-using-an-smtp" class="anchor-target"></span><h2 class="heading">Sending an email using an SMTP <a class="header-link" href="index.html#sending-an-email-using-an-smtp">#</a></h2><hr>
<p>The first good news about Python is that it has a built-in module for sending emails via SMTP in its standard library. No extra installations or tricks are required. You can import the module using the following statement:</p><div class="codeblock language-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">smtplib</span>
</pre></div>
</div><p>To make sure that the module has been imported properly and get the full description of its classes and arguments, type in an interactive Python session:</p><div class="codeblock language-python"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">smtplib</span><span class="p">)</span>
</pre></div>
</div><p>At our next step, we will talk a bit about servers: choosing the right option and configuring it.</p><span id="an-smtp-server-for-testing-emails-in-python" class="anchor-target"></span><h2 class="heading">An SMTP server for testing emails in Python <a class="header-link" href="index.html#an-smtp-server-for-testing-emails-in-python">#</a></h2><hr>
<p>When creating a new app or adding any functionality, especially when doing it for the first time, it’s essential to experiment on a test server. Here is a brief list of reasons:</p>
<ol>
<li>You won’t hit your friends’ and customers’ inboxes. This is vital when you test bulk email sending or work with an email database.</li>
<li>You won’t flood your own inbox with testing emails.</li>
<li>Your domain won’t be blacklisted for spam.</li>
</ol>
<span id="local-smtp-server" class="anchor-target"></span><h2 class="heading">Local SMTP server <a class="header-link" href="index.html#local-smtp-server">#</a></h2><hr>
<p>If you prefer working in the local environment, the local SMTP debugging server might be an option. For this purpose, Python offers an smtpd module. It has a DebuggingServer feature, which will discard messages you are sending out and will print them to stdout. It is compatible with all operations systems.</p><p>Set your SMTP server to <em>localhost:1025</em></p><div class="codeblock language-python"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">smtpd</span> <span class="o">-</span><span class="n">n</span> <span class="o">-</span><span class="n">c</span> <span class="n">DebuggingServer</span> <span class="n">localhost</span><span class="p">:</span><span class="mi">1025</span>
</pre></div>
</div><p>In order to run SMTP server on port 25, you’ll need root permissions:</p><div class="codeblock language-python"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">smtpd</span> <span class="o">-</span><span class="n">n</span> <span class="o">-</span><span class="n">c</span> <span class="n">DebuggingServer</span> <span class="n">localhost</span><span class="p">:</span><span class="mi">25</span>
</pre></div>
</div><p>It will help you verify whether your code is working and point out the possible problems if there are any. However, it won’t give you the opportunity to check how your HTML email template is rendered.</p><span id="fake-smtp-server" class="anchor-target"></span><h2 class="heading">Fake SMTP server <a class="header-link" href="index.html#fake-smtp-server">#</a></h2><hr>
<p>Fake SMTP server imitates the work of a real 3rd party web server. In further examples in this post, we will use <a href="https://mailtrap.io/" rel="nofollow" >Mailtrap</a>. Beyond testing email sending, it will let us check how the email will be rendered and displayed, review the message raw data as well as will provide us with a spam report. Mailtrap is very easy to set up: you will need just copy the credentials generated by the app and paste them into your code.</p><p><img src="../media/uploads/2019/11/02/image-1.png" alt="image-1.png"></p><p>Here is how it looks in practice:</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">smtplib</span>
<span class="n">port</span> <span class="o">=</span> <span class="mi">2525</span>
<span class="n">smtp_server</span> <span class="o">=</span> <span class="s2">&quot;smtp.mailtrap.io&quot;</span>
<span class="n">login</span> <span class="o">=</span> <span class="s2">&quot;1a2b3c4d5e6f7g&quot;</span> <span class="c1"># your login generated by Mailtrap</span>
<span class="n">password</span> <span class="o">=</span> <span class="s2">&quot;1a2b3c4d5e6f7g&quot;</span> <span class="c1"># your password generated by Mailtrap</span>
</pre></div>
</td></tr></table></div><p>Mailtrap makes things even easier. Go to the Integrations section in the SMTP settings tab and get the ready-to-use template of the simple message, with your Mailtrap credentials in it. It is the most basic option of instructing your Python script on who sends what to who is the <code>sendmail()</code> instance method:</p><p><img src="../media/uploads/2019/11/02/image-2.png" alt="image-2.png"></p><p>The code looks pretty straightforward, right? Let’s take a closer look at it and add some error handling (see the #explanations in between). To catch errors, we use the “try” and “except” blocks.</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># the first step is always the same: import all necessary components:</span>
<span class="kn">import</span> <span class="nn">smtplib</span>
<span class="kn">from</span> <span class="nn">socket</span> <span class="kn">import</span> <span class="n">gaierror</span>

<span class="c1"># now you can play with your code. Let’s define the SMTP server separately here:</span>
<span class="n">port</span> <span class="o">=</span> <span class="mi">2525</span> 
<span class="n">smtp_server</span> <span class="o">=</span> <span class="s2">&quot;smtp.mailtrap.io&quot;</span>
<span class="n">login</span> <span class="o">=</span> <span class="s2">&quot;1a2b3c4d5e6f7g&quot;</span> <span class="c1"># paste your login generated by Mailtrap</span>
<span class="n">password</span> <span class="o">=</span> <span class="s2">&quot;1a2b3c4d5e6f7g&quot;</span> <span class="c1"># paste your password generated by Mailtrap</span>

<span class="c1"># specify the sender’s and receiver’s email addresses</span>
<span class="n">sender</span> <span class="o">=</span> <span class="s2">&quot;from@example.com&quot;</span>
<span class="n">receiver</span> <span class="o">=</span> <span class="s2">&quot;mailtrap@example.com&quot;</span>

<span class="c1"># type your message: use two newlines (\n) to separate the subject from the message body, and use &#39;f&#39; to  automatically insert variables in the text</span>
<span class="n">message</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">Subject: Hi Mailtrap</span>
<span class="s2">To: {receiver}</span>
<span class="s2">From: {sender}</span>
<span class="s2">This is my first message with Python.&quot;&quot;&quot;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="c1">#send your message with credentials specified above</span>
    <span class="k">with</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTP</span><span class="p">(</span><span class="n">smtp_server</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span> <span class="k">as</span> <span class="n">server</span><span class="p">:</span>
        <span class="n">server</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">login</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
        <span class="n">server</span><span class="o">.</span><span class="n">sendmail</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="n">receiver</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>

    <span class="c1"># tell the script to report if your message was sent or which errors need to be fixed </span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Sent&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="p">(</span><span class="n">gaierror</span><span class="p">,</span> <span class="n">ConnectionRefusedError</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Failed to connect to the server. Bad connection settings?&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTPServerDisconnected</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Failed to connect to the server. Wrong user/password?&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTPException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;SMTP error occurred: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
</pre></div>
</td></tr></table></div><p>Once you get the Sent result in Shell, you should see your message in your Mailtrap inbox:</p><p><img src="../media/uploads/2019/11/02/image3-1.png" alt="image3 (1).png"></p><span id="sending-emails-with-html-content" class="anchor-target"></span><h2 class="heading">Sending emails with HTML content <a class="header-link" href="index.html#sending-emails-with-html-content">#</a></h2><hr>
<p>In most cases, you need to add some formatting, links, or images to your email notifications. We can simply put all of these with the HTML content. For this purpose, Python has an email package.</p><p>We will deal with the MIME message type, which is able to combine HTML and plain text. In Python, it is handled by the email.mime module.</p><p>It is better to write a text version and an HTML version separately, and then merge them with the MIMEMultipart(&quot;alternative&quot;) instance. It means that such a message has two rendering options accordingly. In case an HTML isn’t be rendered successfully for some reason, a text version will still be available.</p><p><strong>Input:</strong></p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">smtplib</span> 
<span class="kn">from</span> <span class="nn">email.mime.text</span> <span class="kn">import</span> <span class="n">MIMEText</span> 
<span class="kn">from</span> <span class="nn">email.mime.multipart</span> <span class="kn">import</span> <span class="n">MIMEMultipart</span> 

<span class="n">port</span> <span class="o">=</span> <span class="mi">2525</span> 
<span class="n">smtp_server</span> <span class="o">=</span> <span class="s2">&quot;smtp.mailtrap.io&quot;</span> 
<span class="n">login</span> <span class="o">=</span> <span class="s2">&quot;1a2b3c4d5e6f7g&quot;</span> <span class="c1"># paste your login generated by Mailtrap </span>
<span class="n">password</span> <span class="o">=</span> <span class="s2">&quot;1a2b3c4d5e6f7g&quot;</span> <span class="c1"># paste your password generated by Mailtrap</span>
<span class="n">sender_email</span> <span class="o">=</span> <span class="s2">&quot;mailtrap@example.com&quot;</span> 
<span class="n">receiver_email</span> <span class="o">=</span> <span class="s2">&quot;new@example.com&quot;</span> 
<span class="n">message</span> <span class="o">=</span> <span class="n">MIMEMultipart</span><span class="p">(</span><span class="s2">&quot;alternative&quot;</span><span class="p">)</span> 
<span class="n">message</span><span class="p">[</span><span class="s2">&quot;Subject&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;multipart test&quot;</span> 
<span class="n">message</span><span class="p">[</span><span class="s2">&quot;From&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sender_email</span> 
<span class="n">message</span><span class="p">[</span><span class="s2">&quot;To&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">receiver_email</span> 

<span class="c1"># write the plain text part text = &quot;&quot;&quot;\ Hi, Check out the new post on the Mailtrap blog: SMTP Server for Testing: Cloud-based or Local? https://blog.mailtrap.io/2018/09/27/cloud-or-local-smtp-server/ Feel free to let us know what content would be useful for you!&quot;&quot;&quot; </span>
<span class="c1"># write the HTML part html = &quot;&quot;&quot;\ &lt;html&gt; &lt;body&gt; &lt;p&gt;Hi,&lt;br&gt; Check out the new post on the Mailtrap blog:&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;https://blog.mailtrap.io/2018/09/27/cloud-or-local-smtp-server&quot;&gt;SMTP Server for Testing: Cloud-based or Local?&lt;/a&gt;&lt;/p&gt; &lt;p&gt; Feel free to &lt;strong&gt;let us&lt;/strong&gt; know what content would be useful for you!&lt;/p&gt; &lt;/body&gt; &lt;/html&gt; &quot;&quot;&quot;</span>

<span class="c1"># convert both parts to MIMEText objects and add them to the MIMEMultipart message </span>
<span class="n">part1</span> <span class="o">=</span> <span class="n">MIMEText</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;plain&quot;</span><span class="p">)</span> 
<span class="n">part2</span> <span class="o">=</span> <span class="n">MIMEText</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s2">&quot;html&quot;</span><span class="p">)</span> 
<span class="n">message</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">part1</span><span class="p">)</span>
<span class="n">message</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">part2</span><span class="p">)</span>
 
<span class="c1"># send your email with smtplib.SMTP(&quot;smtp.mailtrap.io&quot;, 2525) as server: server.login(login, password) </span>
<span class="n">server</span><span class="o">.</span><span class="n">sendmail</span><span class="p">(</span> <span class="n">sender_email</span><span class="p">,</span> <span class="n">receiver_email</span><span class="p">,</span> <span class="n">message</span><span class="o">.</span><span class="n">as_string</span><span class="p">()</span> <span class="p">)</span> 
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;Sent&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div><p><strong>Output:</strong></p><p><img src="../media/uploads/2019/11/02/image-4.png" alt="image-4.png"></p><span id="sending-emails-with-attachments-in-python" class="anchor-target"></span><h2 class="heading">Sending Emails with Attachments in Python <a class="header-link" href="index.html#sending-emails-with-attachments-in-python">#</a></h2><hr>
<p>The next step in mastering sending emails with Python is attaching files. Attachments are still the MIME objects but we need to encode them with the base64 module. A couple of important points about the attachments:</p>
<ol>
<li>Python lets you attach text files, images, audio files, and even applications. You just need to use the appropriate email class like email.mime.audio.MIMEAudio or email.mime.image.MIMEImage. For the full information, refer to this section of the Python documentation.</li>
<li>Remember about the file size: sending files over 20MB is a bad practice.
In transactional emails, the PDF files are the most frequently used: we usually get receipts, tickets, boarding passes, order confirmations, etc. So let’s review how to send a boarding pass as a PDF file.</li>
</ol>
<p>Input:</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">smtplib</span>

<span class="c1"># import the corresponding modules</span>
<span class="kn">from</span> <span class="nn">email</span> <span class="kn">import</span> <span class="n">encoders</span>
<span class="kn">from</span> <span class="nn">email.mime.base</span> <span class="kn">import</span> <span class="n">MIMEBase</span>
<span class="kn">from</span> <span class="nn">email.mime.multipart</span> <span class="kn">import</span> <span class="n">MIMEMultipart</span>
<span class="kn">from</span> <span class="nn">email.mime.text</span> <span class="kn">import</span> <span class="n">MIMEText</span>

<span class="n">port</span> <span class="o">=</span> <span class="mi">2525</span> 
<span class="n">smtp_server</span> <span class="o">=</span> <span class="s2">&quot;smtp.mailtrap.io&quot;</span>
<span class="n">login</span> <span class="o">=</span> <span class="s2">&quot;1a2b3c4d5e6f7g&quot;</span> <span class="c1"># paste your login generated by Mailtrap</span>
<span class="n">password</span> <span class="o">=</span> <span class="s2">&quot;1a2b3c4d5e6f7g&quot;</span> <span class="c1"># paste your password generated by Mailtrap</span>

<span class="n">subject</span> <span class="o">=</span> <span class="s2">&quot;An example of boarding pass&quot;</span>
<span class="n">sender_email</span> <span class="o">=</span> <span class="s2">&quot;mailtrap@example.com&quot;</span>
<span class="n">receiver_email</span> <span class="o">=</span> <span class="s2">&quot;new@example.com&quot;</span>

<span class="n">message</span> <span class="o">=</span> <span class="n">MIMEMultipart</span><span class="p">()</span>
<span class="n">message</span><span class="p">[</span><span class="s2">&quot;From&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sender_email</span>
<span class="n">message</span><span class="p">[</span><span class="s2">&quot;To&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">receiver_email</span>
<span class="n">message</span><span class="p">[</span><span class="s2">&quot;Subject&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">subject</span>

<span class="c1"># Add body to email</span>
<span class="n">body</span> <span class="o">=</span> <span class="s2">&quot;This is an example of how you can send a boarding pass in attachment with Python&quot;</span>
<span class="n">message</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">MIMEText</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="s2">&quot;plain&quot;</span><span class="p">))</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;yourBP.pdf&quot;</span>
<span class="c1"># Open PDF file in binary mode</span>

<span class="c1"># We assume that the file is in the directory where you run your Python script from</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">attachment</span><span class="p">:</span>
    <span class="c1"># The content type &quot;application/octet-stream&quot; means that a MIME attachment is a binary file</span>
    <span class="n">part</span> <span class="o">=</span> <span class="n">MIMEBase</span><span class="p">(</span><span class="s2">&quot;application&quot;</span><span class="p">,</span> <span class="s2">&quot;octet-stream&quot;</span><span class="p">)</span>
    <span class="n">part</span><span class="o">.</span><span class="n">set_payload</span><span class="p">(</span><span class="n">attachment</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>

<span class="c1"># Encode to base64</span>
<span class="n">encoders</span><span class="o">.</span><span class="n">encode_base64</span><span class="p">(</span><span class="n">part</span><span class="p">)</span>

<span class="c1"># Add header </span>
<span class="n">part</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span>
    <span class="s2">&quot;Content-Disposition&quot;</span><span class="p">,</span>
    <span class="n">f</span><span class="s2">&quot;attachment; filename= {filename}&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Add attachment to your message and convert it to string</span>
<span class="n">message</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">part</span><span class="p">)</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="n">as_string</span><span class="p">()</span>

<span class="c1"># send your email</span>
<span class="k">with</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTP</span><span class="p">(</span><span class="s2">&quot;smtp.mailtrap.io&quot;</span><span class="p">,</span> <span class="mi">2525</span><span class="p">)</span> <span class="k">as</span> <span class="n">server</span><span class="p">:</span>
    <span class="n">server</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">login</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
    <span class="n">server</span><span class="o">.</span><span class="n">sendmail</span><span class="p">(</span>
        <span class="n">sender_email</span><span class="p">,</span> <span class="n">receiver_email</span><span class="p">,</span> <span class="n">text</span>
    <span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;Sent&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div><p><strong>Output:</strong></p><p><img src="../media/uploads/2019/11/02/image-5.png" alt="image 5.png"></p><p>To attach several files, you can call the <code>message.attach()</code> method several times.</p><span id="how-to-send-an-email-with-image-attachment" class="anchor-target"></span><h2 class="heading">How to send an email with image attachment <a class="header-link" href="index.html#how-to-send-an-email-with-image-attachment">#</a></h2><hr>
<p>Images, even if they are a part of the message body, are attachments as well. There are three types of them: CID attachments (embedded as a MIME object), base64 images (inline embedding), and linked images.</p><p>Let’s jump to examples.</p><p>For adding a CID attachment, we will create a MIME multipart message with MIMEImage component:</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># import all necessary components</span>
<span class="kn">import</span> <span class="nn">smtplib</span>
<span class="kn">from</span> <span class="nn">email.mime.text</span> <span class="kn">import</span> <span class="n">MIMEText</span>
<span class="kn">from</span> <span class="nn">email.mime.image</span> <span class="kn">import</span> <span class="n">MIMEImage</span>
<span class="kn">from</span> <span class="nn">email.mime.multipart</span> <span class="kn">import</span> <span class="n">MIMEMultipart</span>

<span class="n">port</span> <span class="o">=</span> <span class="mi">2525</span>
<span class="n">smtp_server</span> <span class="o">=</span> <span class="s2">&quot;smtp.mailtrap.io&quot;</span>
<span class="n">login</span> <span class="o">=</span> <span class="s2">&quot;1a2b3c4d5e6f7g&quot;</span> <span class="c1"># paste your login generated by Mailtrap</span>
<span class="n">password</span> <span class="o">=</span> <span class="s2">&quot;1a2b3c4d5e6f7g&quot;</span> <span class="c1"># paste your password generated by Mailtrap</span>

<span class="n">sender_email</span> <span class="o">=</span> <span class="s2">&quot;mailtrap@example.com&quot;</span>
<span class="n">receiver_email</span> <span class="o">=</span> <span class="s2">&quot;new@example.com&quot;</span>
<span class="n">message</span> <span class="o">=</span> <span class="n">MIMEMultipart</span><span class="p">(</span><span class="s2">&quot;alternative&quot;</span><span class="p">)</span>
<span class="n">message</span><span class="p">[</span><span class="s2">&quot;Subject&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;CID image test&quot;</span>
<span class="n">message</span><span class="p">[</span><span class="s2">&quot;From&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sender_email</span>
<span class="n">message</span><span class="p">[</span><span class="s2">&quot;To&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">receiver_email</span>

<span class="c1"># write the HTML part</span>
<span class="n">html</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">&lt;html&gt;</span>
<span class="s2"> &lt;body&gt;</span>
<span class="s2">   &lt;img src=&quot;cid:Mailtrapimage&quot;&gt;</span>
<span class="s2"> &lt;/body&gt;</span>
<span class="s2">&lt;/html&gt;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">part</span> <span class="o">=</span> <span class="n">MIMEText</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s2">&quot;html&quot;</span><span class="p">)</span>
<span class="n">message</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">part</span><span class="p">)</span>

<span class="c1"># We assume that the image file is in the same directory that you run your Python script from</span>
<span class="n">FP</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;mailtrap.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">MIMEImage</span><span class="p">(</span><span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Specify the  ID according to the img src in the HTML part</span>
<span class="n">image</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span><span class="s1">&#39;Content-ID&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;Mailtrapimage&gt;&#39;</span><span class="p">)</span>
<span class="n">message</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>

<span class="c1"># send your email</span>
<span class="k">with</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTP</span><span class="p">(</span><span class="s2">&quot;smtp.mailtrap.io&quot;</span><span class="p">,</span> <span class="mi">2525</span><span class="p">)</span> <span class="k">as</span> <span class="n">server</span><span class="p">:</span>
   <span class="n">server</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">login</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
   <span class="n">server</span><span class="o">.</span><span class="n">sendmail</span><span class="p">(</span>
       <span class="n">sender_email</span><span class="p">,</span> <span class="n">receiver_email</span><span class="p">,</span> <span class="n">message</span><span class="o">.</span><span class="n">as_string</span><span class="p">()</span>
   <span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;Sent&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div><p>Output:</p><p><img src="../media/uploads/2019/11/02/image-6.png" alt="image-6.png"></p><p>The CID image is shown both as a part of the HTML message and as an attachment. Messages with this image type are often considered spam: check the Analytics tab in Mailtrap to see the spam rate and recommendations on its improvement. Many email clients  - Gmail in particular - don’t display CID images in most cases. So let’s review how to embed a base64 encoded image.</p><p>Here we will use base64 module and experiment with the same image file:</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># import the necessary components first</span>
<span class="kn">import</span> <span class="nn">smtplib</span>
<span class="kn">from</span> <span class="nn">email.mime.text</span> <span class="kn">import</span> <span class="n">MIMEText</span>
<span class="kn">from</span> <span class="nn">email.mime.multipart</span> <span class="kn">import</span> <span class="n">MIMEMultipart</span>
<span class="kn">import</span> <span class="nn">base64</span>

<span class="n">port</span> <span class="o">=</span> <span class="mi">2525</span>
<span class="n">smtp_server</span> <span class="o">=</span> <span class="s2">&quot;smtp.mailtrap.io&quot;</span>
<span class="n">login</span> <span class="o">=</span> <span class="s2">&quot;1a2b3c4d5e6f7g&quot;</span> <span class="c1"># paste your login generated by Mailtrap</span>
<span class="n">password</span> <span class="o">=</span> <span class="s2">&quot;1a2b3c4d5e6f7g&quot;</span> <span class="c1"># paste your password generated by Mailtrap</span>

<span class="n">sender_email</span> <span class="o">=</span> <span class="s2">&quot;mailtrap@example.com&quot;</span>
<span class="n">receiver_email</span> <span class="o">=</span> <span class="s2">&quot;new@example.com&quot;</span>
<span class="n">message</span> <span class="o">=</span> <span class="n">MIMEMultipart</span><span class="p">(</span><span class="s2">&quot;alternative&quot;</span><span class="p">)</span>
<span class="n">message</span><span class="p">[</span><span class="s2">&quot;Subject&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;inline embedding&quot;</span>
<span class="n">message</span><span class="p">[</span><span class="s2">&quot;From&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sender_email</span>
<span class="n">message</span><span class="p">[</span><span class="s2">&quot;To&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">receiver_email</span>

<span class="c1"># We assume that the image file is in the same directory that you run your Python script from</span>
<span class="n">encoded</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;mailtrap.jpg&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<span class="n">html</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">&lt;html&gt;</span>
<span class="s2"> &lt;body&gt;</span>
<span class="s2">   &lt;img src=&quot;data:image/jpg;base64,{encoded}&quot;&gt;</span>
<span class="s2"> &lt;/body&gt;</span>
<span class="s2">&lt;/html&gt;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">part</span> <span class="o">=</span> <span class="n">MIMEText</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s2">&quot;html&quot;</span><span class="p">)</span>
<span class="n">message</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">part</span><span class="p">)</span>

<span class="c1"># send your email</span>
<span class="k">with</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTP</span><span class="p">(</span><span class="s2">&quot;smtp.mailtrap.io&quot;</span><span class="p">,</span> <span class="mi">2525</span><span class="p">)</span> <span class="k">as</span> <span class="n">server</span><span class="p">:</span>
   <span class="n">server</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">login</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
   <span class="n">server</span><span class="o">.</span><span class="n">sendmail</span><span class="p">(</span>
       <span class="n">sender_email</span><span class="p">,</span> <span class="n">receiver_email</span><span class="p">,</span> <span class="n">message</span><span class="o">.</span><span class="n">as_string</span><span class="p">()</span>
   <span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;Sent&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div><p>Output:</p><p><img src="../media/uploads/2019/11/02/image-7.png" alt="image-7.png"></p><p>Now the image is embedded into the HTML message and is not available as an attached file. Python has encoded our jpg image, and if we go to the HTML Source tab, we will see the long image data string in the img src.</p><span id="how-to-send-multiple-emails" class="anchor-target"></span><h2 class="heading">How to Send Multiple Emails <a class="header-link" href="index.html#how-to-send-multiple-emails">#</a></h2><hr>
<p>Sending multiple emails to different recipients and making them personal is the special thing about emails in Python.</p><p>To add several more recipients, you can just type their addresses in separated by a comma, add CC and BCC. But if you work with a bulk email sending, Python will save you with loops.</p><p>One of the options is to create a database in a .csv format (we assume it is saved to the same folder as your Python script).</p><p>We often see our names in transactional or even promotional examples. Here is how we can make it with Python.</p><p>Let’s organize the list in a simple table with just two columns: name and email address. It should look like the following example:</p><div class="codeblock language-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span>#name,email
John Johnson,john@johnson.com
Peter Peterson,peter@peterson.com
</pre></div>
</td></tr></table></div><p>The code below will open the file and loop over its rows line by line, replacing the {name} with the value from the “name” column.</p><p>Input:</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">csv</span><span class="o">,</span> <span class="nn">smtplib</span>

<span class="n">port</span> <span class="o">=</span> <span class="mi">2525</span> 
<span class="n">smtp_server</span> <span class="o">=</span> <span class="s2">&quot;smtp.mailtrap.io&quot;</span>
<span class="n">login</span> <span class="o">=</span> <span class="s2">&quot;1a2b3c4d5e6f7g&quot;</span> <span class="c1"># paste your login generated by Mailtrap</span>
<span class="n">password</span> <span class="o">=</span> <span class="s2">&quot;1a2b3c4d5e6f7g&quot;</span> <span class="c1"># paste your password generated by Mailtrap</span>

<span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Subject: Order confirmation</span>
<span class="s2">To: {recipient}</span>
<span class="s2">From: {sender}</span>

<span class="s2">Hi {name}, thanks for your order! We are processing it now and will contact you soon&quot;&quot;&quot;</span>
<span class="n">sender</span> <span class="o">=</span> <span class="s2">&quot;new@example.com&quot;</span>

<span class="k">with</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTP</span><span class="p">(</span><span class="s2">&quot;smtp.mailtrap.io&quot;</span><span class="p">,</span> <span class="mi">2525</span><span class="p">)</span> <span class="k">as</span> <span class="n">server</span><span class="p">:</span>
    <span class="n">server</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">login</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;contacts.csv&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
        <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="nb">file</span><span class="p">)</span>
        <span class="nb">next</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>  <span class="c1"># it skips the header row</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">email</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
            <span class="n">server</span><span class="o">.</span><span class="n">sendmail</span><span class="p">(</span>
               <span class="n">sender</span><span class="p">,</span>
                <span class="n">email</span><span class="p">,</span>
                <span class="n">message</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">recipient</span><span class="o">=</span><span class="n">email</span><span class="p">,</span> <span class="n">sender</span><span class="o">=</span><span class="n">sender</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;Sent to {name}&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div><p>After running the script, we get the following response:</p><div class="codeblock language-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span>&gt;&gt;&gt;
Sent to John Johnson
Sent to Peter Peterson
&gt;&gt;&gt;
</pre></div>
</td></tr></table></div><p>Output:</p><p>In our Mailtrap inbox, we see two messages: one for John Johnson and another for Peter Peterson, delivered simultaneously:</p><p><img src="../media/uploads/2019/11/02/image8-1.png" alt="image8-1.png"></p><span id="sending-emails-with-python-via-gmail" class="anchor-target"></span><h2 class="heading">Sending emails with Python via Gmail <a class="header-link" href="index.html#sending-emails-with-python-via-gmail">#</a></h2><hr>
<p>When you are ready for sending emails to real recipients, you can configure your production server. It also depends on your needs, goals, and preferences: your localhost or any external SMTP.</p><p>One of the most popular options is Gmail so let’s take a closer look at it.</p><p>We can often see titles like “How to set up a Gmail account for development”. In fact, it means that you will create a new Gmail account and will use it for a particular purpose.</p><p>To be able to send emails via your Gmail account, you need to provide access to it for your application. You can <a href="https://myaccount.google.com/lesssecureapps" rel="nofollow" >Allow less secure apps</a> or take advantage of the <a href="https://developers.google.com/gmail/api/quickstart/python" rel="nofollow" >OAuth2 authorization protocol</a>. It’s a way more difficult but recommended due to security reasons.</p><p>Further, to use a Gmail server, you need to know:</p>
<ul>
<li>the server name = smtp.gmail.com</li>
<li>port = 465 for SSL/TLS connection (preferred)</li>
<li>or port = 587 for STARTTLS connection.</li>
<li>username = your Gmail email address</li>
<li>password = your password.</li>
</ul>
<div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">smtplib</span><span class="o">,</span> <span class="nn">ssl</span>

<span class="n">port</span> <span class="o">=</span> <span class="mi">465</span>  
<span class="n">password</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;your password&quot;</span><span class="p">)</span>
<span class="n">context</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">create_default_context</span><span class="p">()</span>
<span class="k">with</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTP_SSL</span><span class="p">(</span><span class="s2">&quot;smtp.gmail.com&quot;</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">)</span> <span class="k">as</span> <span class="n">server</span><span class="p">:</span>
    <span class="n">server</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s2">&quot;my@gmail.com&quot;</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
</pre></div>
</td></tr></table></div><p>If you tend to simplicity, then you can use Yagmail, the dedicated Gmail/SMTP. It makes email sending really easy. Just compare the above examples with these several lines of code:</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">yagmail</span>
<span class="n">yag</span> <span class="o">=</span> <span class="n">yagmail</span><span class="o">.</span><span class="n">SMTP</span><span class="p">()</span>
<span class="n">contents</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;This is the body, and here is just text http://somedomain/image.png&quot;</span><span class="p">,</span>
    <span class="s2">&quot;You can find an audio file attached.&quot;</span><span class="p">,</span> <span class="s1">&#39;/local/path/to/song.mp3&#39;</span>
<span class="p">]</span>
<span class="n">yag</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;to@someone.com&#39;</span><span class="p">,</span> <span class="s1">&#39;subject&#39;</span><span class="p">,</span> <span class="n">contents</span><span class="p">)</span>
</pre></div>
</td></tr></table></div><span id="next-steps-with-python" class="anchor-target"></span><h2 class="heading">Next steps with Python <a class="header-link" href="index.html#next-steps-with-python">#</a></h2><hr>
<p>We have demonstrated just basic options of sending emails with Python, to describe the logic and a range of its capabilities. To get great results, we recommend reviewing the Python documentation and just experimenting with your own code!</p><p>There are a bunch of various Python frameworks and libraries, which make creating apps more elegant and dedicated. In particular, some of them can help improve your experience with building emails sending functionality:</p><p>The most popular frameworks are:</p>
<ol>
<li>Flask, which offers a simple interface for email sending— Flask Mail.</li>
<li>Django, which can be a great option for building HTML templates.</li>
<li>Zope comes in handy for a website development.</li>
<li>Marrow Mailer is a dedicated mail delivery framework adding various helpful configurations.</li>
<li>Plotly and its Dash can help with mailing graphs and reports</li>
</ol>
<p>Also, here is a <a href="https://awesome-python.com/">handy list</a> of Python resources sorted by their functionality.</p><p>Good luck and don’t forget to stay on the safe side when sending your emails!</p><p>This article was originally published at Mailtrap’s blog: <a href="https://blog.mailtrap.io/sending-emails-in-python-tutorial-with-code-examples/" rel="nofollow" >Sending emails with Python</a>.</p>

<hr>

<p>Other Tutorials (Sponsors)</p>

<p class="advert">
    This site generously supported by
    <a rel="sponsored noopener" target="_blank"
       href="https://www.datacamp.com/?utm_source=thepythonguru&utm_campaign=thepythonguru_tutorials">
        DataCamp</a>. DataCamp offers online interactive
    <a rel="sponsored noopener" target="_blank" href="https://www.datacamp.com/courses/?utm_source=thepythonguru&utm_campaign=thepythonguru_tutorials">
        Python Tutorials
    </a> for Data Science. Join over a million other learners and get
    started learning Python for data science today!
</p>


    



        <nav aria-label="pagination">
            <ul class="pager">
                
                    <li class="previous">
                        <a href="../python-developer-salary-overview-and-predictions/index.html" title="Python Developer Salary Overview and Predictions">
                            <span class="fa fa-arrow-left" aria-hidden="true"></span>
                            Python Developer Salary Overview and Pr…
                        </a>
                    </li>
                

                
                    <li class="next">
                        <a href="../3-tips-to-hire-a-talented-python-developer/index.html" title="3 Tips to Hire a Talented Python Developer">
                            3 Tips to Hire a Talented Python Develo…
                            <span class="fa fa-arrow-right" aria-hidden="true"></span>
                        </a>
                    </li>
                
            </ul>
        </nav>





<hr>



    <div id="disqus_thread">
    <p style="margin-bottom: 22px" class="text-center">
        <a href="index.html#" class=" btn btn-primary comments-holder" onclick="loadDisqus();return false;">View Comments</a>
    </p>
    </div>
    <script>
        var is_disqus_loaded = false;
        function loadDisqus() { // DON'T EDIT BELOW THIS LINE
            is_disqus_loaded = true;
            var d = document, s = d.createElement('script');
            s.src = 'https://thepythonguru.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        }
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>







            </div>
        </div>


        <div class="sidebar">
        
            <div class="col-lg-4 col-md-4 col-sm-12">
                

    
        

<div class="well">
    <form action="https://thepythonguru.com/search/">
        <div class="input-group">
            <input type="text" class="form-control" name="query" placeholder="Search here"
                   value="">
            <span class="input-group-btn">
                            <button class="btn btn-default" type="submit">
                                <span class="glyphicon glyphicon-search"></span>
                        </button>
                        </span>
        </div>
    </form>
    <!-- /.input-group -->
</div>

<div class="well" id="myAffix">
    <a href="https://www.datacamp.com/" rel="noopener">
        <img class="center-block" src="../static/wiki/images/filip_ad.png" alt="">
    </a>
</div>



<div class="well">
    <h4>Recent Posts</h4>
    <ul>
        
            <li><a href="../tips-to-become-a-top-gamer/index.html">Tips to Become a Top Gamer</a></li>
        
            <li><a href="../choosing-the-right-database-service-factors-to-consider-for-scalability-security-and-performance/index.html">Choosing the Right Database Service: Factors to Consider for Scalability, Security, and Performance</a></li>
        
            <li><a href="../benefits-of-using-python-for-cyber-security/index.html">Benefits of Using Python for Cyber Security</a></li>
        
            <li><a href="../vue-vs-react-what-are-the-best-js-technologies-in-2023/index.html">Vue VS React: What Are The Best JS Technologies In 2023</a></li>
        
            <li><a href="../why-you-should-choose-python-in-2023/index.html">Why You Should Choose Python in 2023?</a></li>
        

    </ul>
</div>

    

    
        
    


            </div>
        </div>
    </div>



    <hr>

    <!-- Footer -->
    <footer class="text-center tpg-footer" >
        <div class="row">
            <div class="col-lg-12">
                <ul class="tpg-footer-links text-center">
                    <li><a href="../about/index.html">About</a></li>
                    <li><a href="../terms-of-use/index.html">Terms</a></li>
                    <li><a href="../privacy-policy/index.html">Privacy Policy</a></li>
                    <li><a href="../contact-us/index.html">Contact</a></li>
                </ul>
                <hr>
                <p>&copy; 2025 ThePythonGuru.com</p>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <!-- /.row -->
    </footer>

</div>

<script type="text/javascript" src="../static/CACHE/js/output.1879f88478d8.js"></script>




<script>
    window.cookieconsent.initialise({
        "palette": {
            "popup": {
                "background": "#252e39"
            },
            "button": {
                "background": "#14a7d0"
            }
        },
        "theme": "classic",
        "content": {
            "href": "https://thepythonguru.com/privacy-policy/"
        }
    });
</script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

</body>
</html>

