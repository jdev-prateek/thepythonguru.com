<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Python: How to read and write files - ThePythonGuru.com</title>

    
    



    <meta name="description" content="In this post, we will learn how to read and write files in Python.Working with files consists of the following three steps:

Open a file
Perform read…"/>



    <link rel="canonical" href="index.html">


<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Python: How to read and write files" />

    <meta property="og:description" content="In this post, we will learn how to read and write files in Python.Working with files consists of the following three steps:

Open a file
Perform read…" />


<meta property="og:url" content="https://thepythonguru.com/python-how-to-read-and-write-files/" />
<meta property="og:site_name" content="thepythonguru.com" />


<meta property="article:publisher" content="https://www.facebook.com/thepythonguru" />



<meta name="twitter:card" content="summary_large_image" />

    <meta name="twitter:description" content="In this post, we will learn how to read and write files in Python.Working with files consists of the following three steps:

Open a file
Perform read…" />


<meta name="twitter:title" content="Python: How to read and write files" />
<meta name="twitter:site" content="@thepythonguru" />

<meta name="twitter:creator" content="@thepythonguru" />




    
    
    


    
    
    


    <link rel="alternate" type="application/rss+xml" title="RSS" href="../feed.xml/index.html">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="../static/wiki/favicon.png" sizes="32x32" />

    <link rel="stylesheet" href="../static/CACHE/css/output.6be9976864ee.css" type="text/css" />

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-39121661-7"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-39121661-7');
    </script>


</head>
<body>

<!-- Navigation -->
<nav class="navbar navbar-default navbar-inverse" >
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../index.html">ThePythonGuru</a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse " id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                

                <li >
                    <a href="../index.html">Start Here</a>
                </li>
                <li >
                    <a href="../blog/index.html">Blog</a>
                </li>
                
                
                
                <li >
                    <a href="../contact-us/index.html">Contact</a>
                </li>
                <li >
                    <a href="../write-for-us/index.html">Write For Us</a>
                </li>
                <li class="dropdown">
                    <a href="index.html#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                       aria-haspopup="true" aria-expanded="false">Tools <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="../tools/pygments-demo/index.html">Pygments Demo</a></li>
                    </ul>
                </li>




                
                
                
                
                
                
                
                
                
            </ul>

            
            
            
            
            
            
            
            

        </div>



        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

<div class="container">

    

    

    <div class="row">

        
        <div class="main">
            <div  class="col-lg-8 col-md-8 col-sm-12">
                

    


    
        

<ol class="breadcrumb">

    <li><a href="../index.html">Home</a></li>

    
        

        

        
            <li class="active">Python: How to read and write files</li>
        
    

</ol>


    



<p class="advert">
    (Sponsors) Get started learning Python with <a rel="sponsored noopener" target="_blank" href="https://www.datacamp.com/?utm_source=thepythonguru&utm_campaign=thepythonguru_tutorials">DataCamp's</a>
    free <a rel="sponsored noopener" target="_blank" href="https://www.datacamp.com/courses/intro-to-python-for-data-science/?utm_source=thepythonguru&utm_campaign=thepythonguru_tutorials">Intro to Python tutorial</a>.

    Learn Data Science by completing interactive coding challenges and watching videos by expert instructors.
    <a rel="sponsored noopener" target="_blank" href="https://www.datacamp.com/courses/intro-to-python-for-data-science/?utm_source=thepythonguru&utm_campaign=thepythonguru_tutorials">Start Now!</a>
</p>
<hr>

<h1>Python: How to read and write files</h1>




    <p><i class="fa fa-clock-o" aria-hidden="true"></i>
        Updated on Jan 07, 2020
    </p>


<hr>



<p>In this post, we will learn how to read and write files in Python.</p><p>Working with files consists of the following three steps:</p>
<ol>
<li>Open a file</li>
<li>Perform read or write operation</li>
<li>Close the file</li>
</ol>
<p>Let&#39;s see look at each step in detail.</p><span id="types-of-files" class="anchor-target"></span><h2 class="heading">Types of files <a class="header-link" href="index.html#types-of-files">#</a></h2><hr>
<p>There are two types of files:</p>
<ol>
<li>Text files</li>
<li>Binary files</li>
</ol>
<p>A text file is simply a file which stores sequences of characters using an encoding like utf-8, latin1 etc., whereas in the case of binary file data is stored in the same format as in Computer memory.</p><p>Here are some examples of text and binary files:</p><p>Text files: Python source code, HTML file, text file, markdown file etc.</p><p>Binary files: executable files, images, audio etc.</p><p>It is important to note that inside the disk both types of files are stored as a sequence of 1s and 0s. The only difference is that when a text file is opened the data is decoded back using the same encoding scheme they were encoded in. However, in the case of binary files no such thing happens.</p><span id="opening-the-file-open-function" class="anchor-target"></span><h2 class="heading">Opening the file - open() function <a class="header-link" href="index.html#opening-the-file-open-function">#</a></h2><hr>
<p>The <code>open()</code> built-in function is used to open the file. Its syntax is as follows:</p><div class="codeblock language-python"><div class="highlight"><pre><span></span><span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">file</span> <span class="nb">object</span>
</pre></div>
</div><p>On success, <code>open()</code> returns a file object. On failure, it raises <code>IOError</code> or it&#39;s subclass.</p><div style="overflow-x:auto"><table class="table table-bordered table-hover table-condensed"><thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>filename</code></td>
<td>Absolute or relative path of the file to be opened.</td>
</tr>
<tr>
<td><code>mode</code></td>
<td>(optional) mode is a string which refers to the processing mode (i.e read, write, append etc;) and file type.</td>
</tr>
</tbody>
</table></div><p>The following are the possible values of mode.</p><div style="overflow-x:auto"><table class="table table-bordered table-hover table-condensed"><thead>
<tr>
<th>Mode</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>r</code></td>
<td>Open the file for reading (default).</td>
</tr>
<tr>
<td><code>w</code></td>
<td>Open the file for writing.</td>
</tr>
<tr>
<td><code>a</code></td>
<td>Open the file in append mode i.e add new data to the end of the file.</td>
</tr>
<tr>
<td><code>r+</code></td>
<td>Open the file for reading and writing both</td>
</tr>
<tr>
<td><code>x</code></td>
<td>Open the file for writing, only if it doesn&#39;t already exist.</td>
</tr>
</tbody>
</table></div><p>We can also append <code>t</code> or <code>b</code> to the mode string to indicate the type of the file we will be working with. The <code>t</code> is used for text file and <code>b</code> for binary files. If neither specified, <code>t</code> is assumed by default.</p><p>The <code>mode</code> is optional, if not specified then the file will be opened as a text file for reading only.</p><p>This means that the following three calls to <code>open()</code> are equivalent:</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># open file todo.md for reading in text mode</span>

<span class="nb">open</span><span class="p">(</span><span class="s1">&#39;todo.md&#39;</span><span class="p">)</span> 

<span class="nb">open</span><span class="p">(</span><span class="s1">&#39;todo.md&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>

<span class="nb">open</span><span class="p">(</span><span class="s1">&#39;todo.md&#39;</span><span class="p">,</span> <span class="s1">&#39;rt&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div><p>Note that before you can read a file, it must already exist, otherwise <code>open()</code> will raise <code>FileNotFoundError</code> exception. However, if you open a file for writing (using mode such as <code>w</code>, <code>a</code>, or <code>r+</code>), Python will automatically create the file for you. If the file already exists then its content will be deleted. If you want to prevent that open the file in <code>x</code> mode.</p><span id="closing-the-file-close-method" class="anchor-target"></span><h2 class="heading">Closing the file - close() method <a class="header-link" href="index.html#closing-the-file-close-method">#</a></h2><hr>
<p>When you are done working with the file, you should close it. Although, the file is automatically closed when the program ends but it is still a good practice to do so explicitly. Failing to close the file in a large program could be problematic and may even cause the program to crash.</p><p>To close the file call the <code>close()</code> method of the file object. Closing the file frees up resources associated with it and flushes the data in the buffer to the disk.</p><span id="file-pointer" class="anchor-target"></span><h2 class="heading">File Pointer <a class="header-link" href="index.html#file-pointer">#</a></h2><hr>
<p>When you open a file via the <code>open()</code> method. The operating system associates a pointer that points to a character in the file. The file pointer determines from where the read and write operation will take place. Initially, the file pointer points at the start of the file and advances as we read and write data to the file. Later in this post, we will see how to determine the current position of the file pointer and use it to randomly access parts of the file.</p><span id="reading-files-using-read-readline-and-readlines" class="anchor-target"></span><h2 class="heading">Reading files using read(), readline() and readlines() <a class="header-link" href="index.html#reading-files-using-read-readline-and-readlines">#</a></h2><hr>
<p>To read data, the file object provides the following methods:</p><div style="overflow-x:auto"><table class="table table-bordered table-hover table-condensed"><thead>
<tr>
<th>Method</th>
<th>Argument</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>read([n])</code></td>
<td>Reads and returns <code>n</code> bytes or less (if there aren&#39;t enough characters to read) from the file as a string. If <code>n</code> not specified, it reads the entire file as a string and returns it.</td>
</tr>
<tr>
<td><code>readline()</code></td>
<td>Reads and returns the characters until the end of the line is reached as a string.</td>
</tr>
<tr>
<td><code>readlines()</code></td>
<td>Reads and returns all the lines as a list of strings.</td>
</tr>
</tbody>
</table></div><p>When the end of the file (EOF) is reached the <code>read()</code> and <code>readline()</code> methods returns an empty string, while <code>readlines()</code> returns an empty list (<code>[]</code>).</p><p>Here are some examples:</p><p><strong>poem.txt</strong></p><div class="codeblock language-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span>The caged bird sings
with a fearful trill
of things unknown
but longed for still
</pre></div>
</td></tr></table></div><p><strong>Example 1</strong>: Using <code>read()</code></p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># read the first 3 characters</span>
<span class="s1">&#39;The&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span> <span class="c1"># read the remaining characters in the file.</span>
<span class="s1">&#39; caged bird sings</span><span class="se">\n</span><span class="s1">with a fearful trill</span><span class="se">\n</span><span class="s1">of things unknown</span><span class="se">\n</span><span class="s1">but longed for still</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span> <span class="c1"># End of the file (EOF) is reached</span>
<span class="s1">&#39;&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p><strong>Example 2</strong>: Using <code>readline()</code></p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># read first 4 characters</span>
<span class="s1">&#39;The &#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span> <span class="c1"># read until the end of the line is reached</span>
<span class="s1">&#39;caged bird sings</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span> <span class="c1"># read the second line</span>
<span class="s1">&#39;with a fearful trill</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span> <span class="c1"># read the third line</span>
<span class="s1">&#39;of things unknown</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span> <span class="c1"># read the fourth line</span>
<span class="s1">&#39;but longed for still&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span> <span class="c1"># EOF reached</span>
<span class="s1">&#39;&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p><strong>Example 3</strong>: Using <code>readlines()</code></p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="p">[</span><span class="s1">&#39;The caged bird sings</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;with a fearful trill</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;of things unknown</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;but longed for still</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span> <span class="c1"># EOF reached</span>
<span class="p">[]</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><span id="reading-file-in-chunks" class="anchor-target"></span><h2 class="heading">Reading File in Chunks <a class="header-link" href="index.html#reading-file-in-chunks">#</a></h2><hr>
<p>The <code>read()</code> (without argument) and <code>readlines()</code> methods reads the all data into memory at once. So don&#39;t use them to read large files.</p><p>A better approach is to read the file in chunks using the <code>read()</code> or read the file line by line using the <code>readline()</code>, as follows:</p><p><strong>Example</strong>: Reading file in chunks</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">chunk</span> <span class="o">=</span> <span class="mi">200</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<span class="o">...</span>     <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
<span class="o">...</span>     <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
<span class="o">...</span>         <span class="k">break</span>
<span class="o">...</span>     <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">The</span> <span class="n">caged</span> <span class="n">bird</span> <span class="n">sings</span>
<span class="k">with</span> <span class="n">a</span> <span class="n">fearful</span> <span class="n">trill</span>
<span class="n">of</span> <span class="n">things</span> <span class="n">unknown</span>
<span class="n">but</span> <span class="n">longed</span> <span class="k">for</span> <span class="n">still</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p><strong>Example</strong>: Reading file line by line</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<span class="o">...</span>     <span class="n">line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="o">...</span>     <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
<span class="o">...</span>         <span class="k">break</span>
<span class="o">...</span>     <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">The</span> <span class="n">caged</span> <span class="n">bird</span> <span class="n">sings</span>
<span class="k">with</span> <span class="n">a</span> <span class="n">fearful</span> <span class="n">trill</span>
<span class="n">of</span> <span class="n">things</span> <span class="n">unknown</span>
<span class="n">but</span> <span class="n">longed</span> <span class="k">for</span> <span class="n">still</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>Instead of using <code>read()</code> (with argument) or <code>readline()</code> methods you can also use file object to iterate over the content of the file one line at a time.</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
<span class="o">...</span>     <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">The</span> <span class="n">caged</span> <span class="n">bird</span> <span class="n">sings</span>
<span class="k">with</span> <span class="n">a</span> <span class="n">fearful</span> <span class="n">trill</span>
<span class="n">of</span> <span class="n">things</span> <span class="n">unknown</span>
<span class="n">but</span> <span class="n">longed</span> <span class="k">for</span> <span class="n">still</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>This code is equivalent to the preceding example but it is more concise, readable and easier to type.</p>
        <div class="admonition warning">        <p class="admonition-title"><strong><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> warning:        </strong></p><p>Beware with the <code>readline()</code> method,  if you run into a misfortune of opening a huge file without any newline then <code>readline()</code> is no better than <code>read()</code> (without arguments). The same is true when you use the file object as an iterator.</p></div>
        <span id="writing-data-using-write-and-writelines" class="anchor-target"></span><h2 class="heading">Writing Data using write() and writelines() <a class="header-link" href="index.html#writing-data-using-write-and-writelines">#</a></h2><hr>
<p>For writing data the file object provides the following two methods:</p><div style="overflow-x:auto"><table class="table table-bordered table-hover table-condensed"><thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>write(s)</code></td>
<td>Writes the string <code>s</code> to the file and returns the number characters written.</td>
</tr>
<tr>
<td><code>writelines(s)</code></td>
<td>Writes all strings in the sequence <code>s</code> to the file.</td>
</tr>
</tbody>
</table></div><p>Here are examples:</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem_2.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;When I think about myself, &quot;</span><span class="p">)</span>
<span class="mi">26</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;I almost laugh myself to death.&quot;</span><span class="p">)</span>
<span class="mi">31</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> <span class="c1"># close the file and flush the data in the buffer to the disk</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem_2.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="c1"># open the file for reading</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span> <span class="c1"># read entire file</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span>
<span class="s1">&#39;When I think about myself, I almost laugh myself to death.&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">When</span> <span class="n">I</span> <span class="n">think</span> <span class="n">about</span> <span class="n">myself</span><span class="p">,</span> <span class="n">I</span> <span class="n">almost</span> <span class="n">laugh</span> <span class="n">myself</span> <span class="n">to</span> <span class="n">death</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>Notice that unlike the <code>print()</code> function the <code>write()</code> method doesn&#39;t add a newline character (<code>\n</code>) at the end of the line. If you want the newline character you have to add it manually, as follows:</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem_2.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;When I think about myself, </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># notice newline</span>
<span class="mi">27</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;I almost laugh myself to death.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># notice newline</span>
<span class="mi">32</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem_2.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="c1"># open the file again</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span> <span class="c1"># read the entire file</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span>
<span class="s1">&#39;When I think about myself, </span><span class="se">\n</span><span class="s1">I almost laugh myself to death.</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">When</span> <span class="n">I</span> <span class="n">think</span> <span class="n">about</span> <span class="n">myself</span><span class="p">,</span>
<span class="n">I</span> <span class="n">almost</span> <span class="n">laugh</span> <span class="n">myself</span> <span class="n">to</span> <span class="n">death</span><span class="o">.</span>

<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>You can also append the newline to the line using the <code>print()</code> function, as follows:</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem_2.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;When I think about myself, &quot;</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;I almost laugh myself to death.&quot;</span><span class="p">,</span> <span class="nb">file</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem_2.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="c1"># open the file again</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span>
<span class="s1">&#39;When I think about myself, </span><span class="se">\n</span><span class="s1">I almost laugh myself to death.</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">When</span> <span class="n">I</span> <span class="n">think</span> <span class="n">about</span> <span class="n">myself</span><span class="p">,</span>
<span class="n">I</span> <span class="n">almost</span> <span class="n">laugh</span> <span class="n">myself</span> <span class="n">to</span> <span class="n">death</span><span class="o">.</span>

<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>Here is an example of <code>writelines()</code> method.</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span>
<span class="o">...</span> <span class="s2">&quot;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod&quot;</span><span class="p">,</span>
<span class="o">...</span> <span class="s2">&quot;tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,&quot;</span>
<span class="o">...</span> <span class="s2">&quot;quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo&quot;</span><span class="p">,</span>
<span class="o">...</span> <span class="s2">&quot;consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse&quot;</span><span class="p">,</span>
<span class="o">...</span> <span class="s2">&quot;cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non&quot;</span><span class="p">,</span>
<span class="o">...</span> <span class="s2">&quot;proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&quot;</span>
<span class="o">...</span> <span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;lorem.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">writelines</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>The <code>writelines()</code> method internally calls the <code>write()</code> method.</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">writelines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lines</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_checkClosed</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</pre></div>
</td></tr></table></div><p>Here is another example which opens the file in append mode.</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem_2.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Alone, all alone. Nobody, but nobody. Can make it out here alone.&quot;</span><span class="p">)</span>
<span class="mi">65</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem_2.txt&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span>
<span class="s1">&#39;When I think about myself, </span><span class="se">\n</span><span class="s1">I almost laugh myself to death.</span><span class="se">\n\n</span><span class="s1">Alone, all alone. Nobody, but nobody. Can make it out here alone.&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">When</span> <span class="n">I</span> <span class="n">think</span> <span class="n">about</span> <span class="n">myself</span><span class="p">,</span>
<span class="n">I</span> <span class="n">almost</span> <span class="n">laugh</span> <span class="n">myself</span> <span class="n">to</span> <span class="n">death</span><span class="o">.</span>

<span class="n">Alone</span><span class="p">,</span> <span class="nb">all</span> <span class="n">alone</span><span class="o">.</span> <span class="n">Nobody</span><span class="p">,</span> <span class="n">but</span> <span class="n">nobody</span><span class="o">.</span> <span class="n">Can</span> <span class="n">make</span> <span class="n">it</span> <span class="n">out</span> <span class="n">here</span> <span class="n">alone</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>Let&#39;s assume file <code>poem_2.txt</code> is important to use and we don&#39;t want it to be overwritten. To prevent that open the file in <code>x</code> mode</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem_2.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="n">FileExistsError</span><span class="p">:</span> <span class="p">[</span><span class="n">Errno</span> <span class="mi">17</span><span class="p">]</span> <span class="n">File</span> <span class="n">exists</span><span class="p">:</span> <span class="s1">&#39;poem.txt&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>The <code>x</code> mode only opens the file for writing, if it doesn&#39;t already exist.</p><span id="buffering-and-flushing" class="anchor-target"></span><h2 class="heading">Buffering and Flushing <a class="header-link" href="index.html#buffering-and-flushing">#</a></h2><hr>
<p>Buffering is the process of storing data temporarily before it is moved to a new location.</p><p>In the case of files, the data is not immediately written to the disk instead it is stored in the buffer memory.</p><p>This rationale behind doing this is that the writing data to disk takes time as opposed to writing data to the physical memory. Imagine a program writing data every time the <code>write()</code> method is called. Such a program would be very slow.</p><p>When we use a buffer, the data is written to the disk only when the buffer becomes full or when the <code>close()</code> method is called. This process is called flushing the output. You can also flush the output manually using the <code>flush()</code> method of the file object. Note that the <code>flush()</code> only saves the buffered data to the disk. It doesn&#39;t close the file.</p><p>The <code>open()</code> method provides an optional third argument to control the buffer. To learn more about it visit the official documentation.</p><span id="reading-and-writing-binary-data" class="anchor-target"></span><h2 class="heading">Reading and Writing Binary data <a class="header-link" href="index.html#reading-and-writing-binary-data">#</a></h2><hr>
<p>Reading and writing binary file is done by appending <code>b</code> to the mode string.</p><p>In Python 3, the binary data is represented using a special type called <code>bytes</code>.</p><p>The <code>bytes</code> type represents an immutable sequence of numbers between 0 and 255.</p><p>Let&#39;s create a binary version of the poem by reading <code>poem.txt</code> file.</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">binary_poem</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;poem.txt&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">binary_poem</span>
<span class="sa">b</span><span class="s1">&#39;The caged bird sings</span><span class="se">\n</span><span class="s1">with a fearful trill</span><span class="se">\n</span><span class="s1">of things unknown</span><span class="se">\n</span><span class="s1">but longed for still&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">binary_poem</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># ASCII value of character T</span>
<span class="mi">84</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">binary_poem</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># ASCII value of character h</span>
<span class="mi">104</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>Note that indexing a <code>bytes</code> object returns an <code>int</code>.</p><p>Let&#39;s write our binary poem in a new file.</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;binary_poem&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">binary_poem</span><span class="p">)</span>
<span class="mi">80</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>Our binary poem is now written to the file. To read it open the file in <code>rb</code> mode.</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;binary_poem&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">data</span>
<span class="sa">b</span><span class="s1">&#39;The caged bird sings</span><span class="se">\n</span><span class="s1">with a fearful trill</span><span class="se">\n</span><span class="s1">of things unknown</span><span class="se">\n</span><span class="s1">but longed for still&#39;</span>
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="sa">b</span><span class="s1">&#39;The caged bird sings</span><span class="se">\n</span><span class="s1">with a fearful trill</span><span class="se">\n</span><span class="s1">of things unknown</span><span class="se">\n</span><span class="s1">but longed for still&#39;</span>
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>It is important to note that, in our case, binary data happens to contain printable characters, like alphabets, newline etc. However, this will not be the case most of the time. It means that with binary data we can&#39;t reliably use <code>readline()</code> and file object (as an iterator) to read the contents of a file because might be no newline character in a file. The best way to read binary data is to read it in chunks using the <code>read()</code> method.</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># Just as with text files, you can read (or write) binary files in chunks.</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;binary_poem&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">chunk</span> <span class="o">=</span> <span class="mi">200</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<span class="o">...</span>     <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
<span class="o">...</span>     <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
<span class="o">...</span>         <span class="k">break</span>
<span class="o">...</span>     <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="o">...</span>
<span class="sa">b</span><span class="s1">&#39;The caged bird sings</span><span class="se">\n</span><span class="s1">with a fearful trill</span><span class="se">\n</span><span class="s1">of things unknown</span><span class="se">\n</span><span class="s1">but longed for still&#39;</span>
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><span id="random-access-using-fseek-and-ftell" class="anchor-target"></span><h2 class="heading">Random Access using fseek() and ftell() <a class="header-link" href="index.html#random-access-using-fseek-and-ftell">#</a></h2><hr>
<p>Earlier in this post, we learned that when the file is opened, the system associates a pointer with it , which determines the position from where reading or writing will take place.</p><p>So far we have read and write files linearly. But it is also possible to read and write at specific locations. To achieve this the file object provides following two methods:</p><div style="overflow-x:auto"><table class="table table-bordered table-hover table-condensed"><thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>tell()</code></td>
<td>Returns the current position of the file pointer.</td>
</tr>
<tr>
<td><code>seek(offset, [whence=0])</code></td>
<td>Moves the file pointer to the given <code>offset</code>. The <code>offset</code> refers to the byte count and <code>whence</code> determines the position relative to which the <code>offset</code> will move the file pointer. The default value of <code>whence</code> is 0, which means that offset will move the file pointer from the beginning of the file. If whence is set to <code>1</code> or <code>2</code>, the offset will move the file&#39;s pointer from the current position or from the end of the file, respectively.</td>
</tr>
</tbody>
</table></div><p>Let&#39;s take some examples now.</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1">###### binary poem at a glance #######</span>
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;binary_poem&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="o">...</span> 
<span class="sa">b</span><span class="s1">&#39;The caged bird sings</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="sa">b</span><span class="s1">&#39;with a fearful trill</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="sa">b</span><span class="s1">&#39;of things unknown</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="sa">b</span><span class="s1">&#39;but longed for still&#39;</span>
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="c1">#####################################</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;binary_poem&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="c1"># open binary_poem file for reading</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span> <span class="c1"># initial position of the file pointer</span>
<span class="mi">0</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># read 5 bytes</span>
<span class="sa">b</span><span class="s1">&#39;The c&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
<span class="mi">5</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>After reading 5 characters, the file pointer is now at character <code>a</code> (in word <code>caged</code>). So the next read (or write) operation will start from this point.</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="sa">b</span><span class="s1">&#39;aged bird sings</span><span class="se">\n</span><span class="s1">with a fearful trill</span><span class="se">\n</span><span class="s1">of things unknown</span><span class="se">\n</span><span class="s1">but longed for still&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
<span class="mi">80</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span> <span class="c1"># EOF reached</span>
<span class="sa">b</span><span class="s1">&#39;&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
<span class="mi">80</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>We have now reached the end of the file. At this point, we can use <code>fseek()</code> method to rewind the file pointer to the beginning of the file, as follows:</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># rewind the file pointer to the beginning, same as seek(0, 0)</span>
<span class="mi">0</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
<span class="mi">0</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>The file pointer is now at the beginning of the file. All the read and write operations from now on will take place from the beginning of the file again.</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span> <span class="c1"># read the first 14 characters</span>
<span class="sa">b</span><span class="s1">&#39;The caged bird&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
<span class="mi">14</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>To move the file pointer from 12 bytes forward from current position call <code>seek()</code> as follows:</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="mi">26</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
<span class="mi">26</span>
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>The file pointer is now at character <code>a</code> (after the word <code>with</code>), so the read and write operation will take place from there.</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="sa">b</span><span class="s1">&#39;a fearful trill&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>We can also move the file pointer backward. For example, the following call to <code>seek()</code> moves the file pointer 13 bytes backward from the current position.</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="o">-</span><span class="mi">13</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="mi">28</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>
<span class="mi">28</span>
<span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="sa">b</span><span class="s1">&#39;fearful&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>Let&#39;s say we want to read the last 16 bytes of the file. To do so, move the file pointer 16 bytes backward relative to the end of the file.</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="o">-</span><span class="mi">16</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="mi">64</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="sa">b</span><span class="s1">&#39;longed for still&#39;</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div><p>The values of the <code>whence</code> argument of <code>fseek()</code> are also defined as constants in the <code>os</code> module.</p><div style="overflow-x:auto"><table class="table table-bordered table-hover table-condensed"><thead>
<tr>
<th>Value</th>
<th>Constant</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>0</code></td>
<td><code>SEEK_SET</code></td>
</tr>
<tr>
<td><code>1</code></td>
<td><code>SEEK_CUR</code></td>
</tr>
<tr>
<td><code>2</code></td>
<td><code>SEEK_END</code></td>
</tr>
</tbody>
</table></div><span id="with-statement" class="anchor-target"></span><h2 class="heading">with statement <a class="header-link" href="index.html#with-statement">#</a></h2><hr>
<p>The with statement allows us to automatically close the file once we are done working with it. Its syntax is as follows:</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">expression</span> <span class="k">as</span> <span class="n">variable</span><span class="p">:</span>
    <span class="c1"># do operations on file here.</span>
</pre></div>
</td></tr></table></div><p>The statements inside the <code>with</code> statement must be indented equally just like the for loop, otherwise <code>SyntaxError</code> exception will be raised.</p><p>Here is an example:</p><div class="codeblock language-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;poem.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="o">...</span>     <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span> <span class="c1"># read the entire file</span>
<span class="o">...</span> 
<span class="n">The</span> <span class="n">caged</span> <span class="n">bird</span> <span class="n">sings</span>
<span class="k">with</span> <span class="n">a</span> <span class="n">fearful</span> <span class="n">trill</span>
<span class="n">of</span> <span class="n">things</span> <span class="n">unknown</span>
<span class="n">but</span> <span class="n">longed</span> <span class="k">for</span> <span class="n">still</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>

<hr>

<p>Other Tutorials (Sponsors)</p>

<p class="advert">
    This site generously supported by
    <a rel="sponsored noopener" target="_blank"
       href="https://www.datacamp.com/?utm_source=thepythonguru&utm_campaign=thepythonguru_tutorials">
        DataCamp</a>. DataCamp offers online interactive
    <a rel="sponsored noopener" target="_blank" href="https://www.datacamp.com/courses/?utm_source=thepythonguru&utm_campaign=thepythonguru_tutorials">
        Python Tutorials
    </a> for Data Science. Join over a million other learners and get
    started learning Python for data science today!
</p>


    



        <nav aria-label="pagination">
            <ul class="pager">
                

                
            </ul>
        </nav>





<hr>



    <div id="disqus_thread">
    <p style="margin-bottom: 22px" class="text-center">
        <a href="index.html#" class=" btn btn-primary comments-holder" onclick="loadDisqus();return false;">View Comments</a>
    </p>
    </div>
    <script>
        var is_disqus_loaded = false;
        function loadDisqus() { // DON'T EDIT BELOW THIS LINE
            is_disqus_loaded = true;
            var d = document, s = d.createElement('script');
            s.src = 'https://thepythonguru.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        }
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>







            </div>
        </div>


        <div class="sidebar">
        
            <div class="col-lg-4 col-md-4 col-sm-12">
                

    
        

<div class="well">
    <form action="https://thepythonguru.com/search/">
        <div class="input-group">
            <input type="text" class="form-control" name="query" placeholder="Search here"
                   value="">
            <span class="input-group-btn">
                            <button class="btn btn-default" type="submit">
                                <span class="glyphicon glyphicon-search"></span>
                        </button>
                        </span>
        </div>
    </form>
    <!-- /.input-group -->
</div>

<div class="well" id="myAffix">
    <a href="https://www.datacamp.com/" rel="noopener">
        <img class="center-block" src="../static/wiki/images/filip_ad.png" alt="">
    </a>
</div>



<div class="well">
    <h4>Recent Posts</h4>
    <ul>
        
            <li><a href="../tips-to-become-a-top-gamer/index.html">Tips to Become a Top Gamer</a></li>
        
            <li><a href="../choosing-the-right-database-service-factors-to-consider-for-scalability-security-and-performance/index.html">Choosing the Right Database Service: Factors to Consider for Scalability, Security, and Performance</a></li>
        
            <li><a href="../benefits-of-using-python-for-cyber-security/index.html">Benefits of Using Python for Cyber Security</a></li>
        
            <li><a href="../vue-vs-react-what-are-the-best-js-technologies-in-2023/index.html">Vue VS React: What Are The Best JS Technologies In 2023</a></li>
        
            <li><a href="../why-you-should-choose-python-in-2023/index.html">Why You Should Choose Python in 2023?</a></li>
        

    </ul>
</div>

    

    
        
    


            </div>
        </div>
    </div>



    <hr>

    <!-- Footer -->
    <footer class="text-center tpg-footer" >
        <div class="row">
            <div class="col-lg-12">
                <ul class="tpg-footer-links text-center">
                    <li><a href="../about/index.html">About</a></li>
                    <li><a href="../terms-of-use/index.html">Terms</a></li>
                    <li><a href="../privacy-policy/index.html">Privacy Policy</a></li>
                    <li><a href="../contact-us/index.html">Contact</a></li>
                </ul>
                <hr>
                <p>&copy; 2025 ThePythonGuru.com</p>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <!-- /.row -->
    </footer>

</div>

<script type="text/javascript" src="../static/CACHE/js/output.1879f88478d8.js"></script>




<script>
    window.cookieconsent.initialise({
        "palette": {
            "popup": {
                "background": "#252e39"
            },
            "button": {
                "background": "#14a7d0"
            }
        },
        "theme": "classic",
        "content": {
            "href": "https://thepythonguru.com/privacy-policy/"
        }
    });
</script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

</body>
</html>

